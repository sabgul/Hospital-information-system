(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cffbbc28"],{1813:function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),o=n("c427"),i=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"getAll",value:function(){return o["a"].get("patients/")}},{key:"getAllByDoctor",value:function(e){return o["a"].get("patients/",{params:{main_doctor:e}})}},{key:"get",value:function(e){return o["a"].get("patients/".concat(e))}},{key:"create",value:function(e){return o["a"].post("patients/",e)}},{key:"update",value:function(e,t){return o["a"].put("patients/".concat(e,"/"),t)}},{key:"delete",value:function(e){return o["a"].delete("patients/".concat(e))}},{key:"deleteAll",value:function(){return o["a"].delete("patients")}}]),e}();t["a"]=new i},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d3b7");function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)}))}}},"2d97":function(e,t,n){},"33df":function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"getExaminationState",value:function(e){return"WT"===e?"Waiting for first examination":"ON"===e?"Ongoing":"TL"===e?"Terminal":"ED"===e?"Ended":"Unknown state"}},{key:"getTicketState",value:function(e){return"PD"===e?"Ticket is waiting. Examine your patient!":"CD"===e?"Examination request was canceled.":"RD"===e?"Ticket already resolved.":"Undefined state"}},{key:"getTransactionState",value:function(e){return"CD"===e?"Covered":"UD"===e?"Unpaid":"Undefined state"}},{key:"getGenderState",value:function(e){return"M"===e?"Male":"F"===e?"Female":"O"===e?"Other":"Undefined gender"}}]),e}();t["a"]=new o},"8e80":function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"successPopup",value:function(e,t){var n="top-right",r="auto",a="6000",o="success",i=t.notification({duration:a,progress:r,color:o,position:n,title:"Hooray!ðŸŽ‰",text:e});console.log(i)}},{key:"failPopup",value:function(e,t){var n="top-right",r="auto",a="6000",o="danger",i=t.notification({duration:a,progress:r,color:o,position:n,title:"Whoops!ðŸ˜“: "+e.message,text:"Something went wrong. Try again later or contact support."});console.log(i)}}]),e}();t["a"]=new o},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),i=new P(r||[]);return o._invoke=O(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={};function g(){}function m(){}function y(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(S([])));w&&w!==n&&r.call(w,o)&&(_=w);var k=y.prototype=g.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;function o(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}this._invoke=o}function O(e,t,n){var r=f;return function(a,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return A()}n.method=a,n.arg=o;while(1){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?h:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function S(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){while(++a<e.length)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=k.constructor=y,y.constructor=m,m.displayName=s(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[i]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new C(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(k),s(k,c,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},ab39:function(e,t,n){"use strict";var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("c427"),c=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,[{key:"getAll",value:function(){return i["a"].get("doctors")}},{key:"get",value:function(e){return i["a"].get("doctors/".concat(e))}},{key:"create",value:function(e){return i["a"].post("doctors/",e)}},{key:"update",value:function(e,t){return i["a"].put("doctors/".concat(e,"/"),t)}},{key:"delete",value:function(e){return i["a"].delete("doctors/".concat(e,"/"))}},{key:"deleteWithNewResponsible",value:function(e,t){return i["a"].delete("doctors/".concat(e),{params:Object(r["a"])({},{alt:t})})}},{key:"deleteAll",value:function(){return i["a"].delete("doctors")}}]),e}();t["a"]=new c},b014:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"main__content"},[n("h4",[e._v("Add health concern")]),n("br"),n("p",[e._v(" If there is a newly discovered health concern of your patient, pleas add the information below. "),n("br"),n("b",[e._v("In order to add health concern of a new patient, please "),n("span",{staticClass:"redirect__profile",on:{click:function(t){return e.redirectToNewPatient()}}},[e._v(" create the patient's account ")]),e._v(" at first. ")])]),n("br"),n("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.addNewExamination(t)}}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"first__row"},[n("vs-input",{staticClass:"input__items",attrs:{label:"Name of health concern",placeholder:"Type name",primary:""},scopedSlots:e._u([0===e.newConcern.name.length?{key:"message-warn",fn:function(){return[e._v(" Required field ")]},proxy:!0}:null,e.newConcern.name.length>254?{key:"message-danger",fn:function(){return[e._v(" Too many characters ")]},proxy:!0}:null],null,!0),model:{value:e.newConcern.name,callback:function(t){e.$set(e.newConcern,"name",t)},expression:"newConcern.name"}}),n("vs-select",{key:e.availablePatients.length,staticClass:"input__items",attrs:{label:"Patient",placeholder:"Choose a patient",color:"primary",filter:""},scopedSlots:e._u([-1===e.newConcern.patient?{key:"message-warn",fn:function(){return[e._v(" Required field ")]},proxy:!0}:null],null,!0),model:{value:e.newConcern.patient,callback:function(t){e.$set(e.newConcern,"patient",t)},expression:"newConcern.patient"}},e._l(e.availablePatients,(function(t,r){return n("vs-option",{key:r,attrs:{label:e.getFullName(t.user),value:t.user.id}},[e._v(" "+e._s(t.user.first_name)+" "+e._s(t.user.last_name)+" ")])})),1)],1),n("div",{staticClass:"second__row"},[n("vs-input",{staticClass:"input__items",attrs:{label:"Description",placeholder:"Type brief description"},scopedSlots:e._u([e.newConcern.description.length>2046?{key:"message-danger",fn:function(){return[e._v(" Description too long ")]},proxy:!0}:null],null,!0),model:{value:e.newConcern.description,callback:function(t){e.$set(e.newConcern,"description",t)},expression:"newConcern.description"}}),"admin"===e.userRole?n("vs-select",{key:e.availableDoctors.length,staticClass:"input__items",attrs:{label:"Doctor",placeholder:"Choose a doctor",color:"primary",filter:""},scopedSlots:e._u([-1===e.newConcern.doctor?{key:"message-warn",fn:function(){return[e._v(" Required field ")]},proxy:!0}:null],null,!0),model:{value:e.newConcern.doctor,callback:function(t){e.$set(e.newConcern,"doctor",t)},expression:"newConcern.doctor"}},e._l(e.availableDoctors,(function(t,r){return n("vs-option",{key:r,attrs:{label:e.getFullName(t.user),value:t.user.id}},[e._v(" "+e._s(t.user.first_name)+" "+e._s(t.user.last_name)+" ")])})),1):e._e()],1),n("div",{staticClass:"third__row"},[n("vs-select",{staticClass:"input__items",attrs:{label:"State of examination",color:"primary"},model:{value:e.newConcern.state,callback:function(t){e.$set(e.newConcern,"state",t)},expression:"newConcern.state"}},[n("vs-option",{attrs:{value:"WT",label:"Waiting"}},[e._v(" Waiting for examination ")]),n("vs-option",{attrs:{value:"ON",label:"Ongoing"}},[e._v(" Ongoing ")]),n("vs-option",{attrs:{value:"ED",label:"Ended"}},[e._v(" Ended ")])],1)],1),n("div",{staticClass:"submit__row"},[n("vs-button",{attrs:{disabled:0===e.newConcern.name.length||e.newConcern.name.length>254||-1===e.newConcern.doctor||-1===e.newConcern.patient||e.newConcern.description.length>2046}},[e._v(" Submit ")])],1)])])]),e._m(1),n("div",{staticClass:"main__content"},[n("h5",[e._v(" Filter results ")]),n("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.getFiltered(t)}}},[n("div",{staticClass:"wrapper",staticStyle:{height:"130px"}},[n("div",{staticClass:"first__row"},[n("vs-select",{key:e.availablePatients.length,attrs:{label:"Patient",color:"primary"},model:{value:e.filter.patient_name,callback:function(t){e.$set(e.filter,"patient_name",t)},expression:"filter.patient_name"}},e._l(e.availablePatients,(function(t){return n("vs-option",{key:t.user.id,attrs:{label:e.getFullName(t.user),value:t.user.id}},[e._v(" "+e._s(t.user.first_name)+" "+e._s(t.user.last_name)+" ")])})),1)],1),n("div",{staticClass:"second__row"},[n("vs-select",{attrs:{label:"State of examination",color:"primary"},model:{value:e.filter.state_of_concern,callback:function(t){e.$set(e.filter,"state_of_concern",t)},expression:"filter.state_of_concern"}},[n("vs-option",{attrs:{value:"WT",label:"Waiting"}},[e._v(" Waiting ")]),n("vs-option",{attrs:{value:"ON",label:"Ongoing"}},[e._v(" Ongoing ")]),n("vs-option",{attrs:{value:"ED",label:"Ended"}},[e._v(" Ended ")])],1)],1),n("div",{staticClass:"submit__row",staticStyle:{"margin-top":"-60px"}},[n("vs-button",{attrs:{border:""},on:{click:function(t){return e.clearFilter()}}},[e._v(" Clear filter ")]),n("vs-button",[e._v(" Apply filter ")])],1)])])]),n("div",{staticClass:"main__content"},[n("h5",[e._v(" Concerns overview result ")]),n("br"),n("vs-table",{staticClass:"actions__table",attrs:{striped:""},scopedSlots:e._u([{key:"header",fn:function(){return[n("vs-input",{attrs:{border:"",placeholder:"Search"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})]},proxy:!0},{key:"thead",fn:function(){return[n("vs-tr",[n("vs-th",[e._v(" Type of health concern ")]),n("vs-th",[e._v(" Patient ")]),n("vs-th",[e._v(" State ")]),n("vs-th",[e._v(" Actions ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.$vs.getPage(e.$vs.getSearch(e.concerns,e.searchValue),e.page,e.max),(function(t,r){return n("vs-tr",{key:r,attrs:{data:t},scopedSlots:e._u([{key:"expand",fn:function(){return[n("div",{staticStyle:{width:"80%"}},[n("p",[n("b",[e._v("Description: ")]),e._v(e._s(t.description))])]),n("vs-button",{staticClass:"right__part",attrs:{border:""},on:{click:function(n){return e.showConcernDetail(t.id)}}},[e._v(" Show more details ")])]},proxy:!0}],null,!0)},[n("vs-td",[n("span",{staticClass:"redirect__profile",on:{click:function(n){return e.showConcernDetail(t.id)}}},[e._v(" "+e._s(t.name)+" ")])]),n("vs-td",[n("span",{staticClass:"redirect__profile",on:{click:function(n){return e.redirectToPatientProfile(t.patient.user.id,"patient")}}},[e._v(" "+e._s(t.patient.user.first_name)+" "+e._s(t.patient.user.last_name)+" ")])]),n("vs-td",[e._v(" "+e._s(e.getState(t.state))+" ")]),"ED"!==t.state?n("vs-td",[n("vs-button",{staticClass:"buttons",staticStyle:{width:"120px"},attrs:{border:""},on:{click:function(n){return e.redirectToExamine(t.id)}}},[e._v(" Examine ")]),n("vs-button",{staticClass:"buttons",on:{click:function(n){return e.redirectToNewRequest(t.id)}}},[e._v(" New examination request ")]),n("vs-button",{staticClass:"buttons",attrs:{danger:""},on:{click:function(n){return e.reassign(t)}}},[e._v(" Assign to another doctor ")])],1):n("vs-td",[e._v(" Concern is ended. "),n("br"),e._v(" No more actions provided. ")])],1)}))},proxy:!0},{key:"footer",fn:function(){return[n("vs-pagination",{attrs:{length:e.$vs.getLength(e.concerns,e.max)},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})]},proxy:!0}])})],1),n("vs-dialog",{attrs:{width:"500px"},scopedSlots:e._u([{key:"header",fn:function(){return[n("h5",[e._v(" Select new manager of "),n("b",[e._v(e._s(e.toReassign.name))])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"popup__right"},[n("vs-button",{attrs:{success:""},on:{click:function(t){return e.finishReassign()}}},[e._v(" Save ")])],1)]},proxy:!0}]),model:{value:e.activeAssign,callback:function(t){e.activeAssign=t},expression:"activeAssign"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newDoc,expression:"newDoc"}],staticClass:"popup__center",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newDoc=t.target.multiple?n:n[0]}}},e._l(e.availableWithoutCurrent,(function(t){return n("option",{key:t.user.id,attrs:{label:e.getFullName(t.user)},domProps:{value:t.user.id}},[e._v(" "+e._s(t.user.first_name)+" "+e._s(t.user.last_name)+" ")])})),0)])],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main__content"},[n("h1",[e._v(" Health concerns ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main__content"},[n("h4",[e._v("Health concerns overview")]),n("br"),n("p",[e._v(" In this module, you can see the list of all health concerns you have managed. "),n("br"),e._v(" The results can be filtered by "),n("b",[e._v("patient")]),e._v(" and/or "),n("b",[e._v("examination state")]),e._v(". Specific record can be found using the search bar in the table. "),n("br")])])}],o=(n("4de4"),n("b0c0"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),i=n("5530"),c=n("1813"),s=n("ab39"),u=n("b81e"),l=n("8e80"),f=n("33df"),d=n("2f62"),p={name:"HealthConcerns",computed:Object(i["a"])(Object(i["a"])({},Object(d["b"])(["user","userRole"])),{},{availableWithoutCurrent:function(){var e=this;return this.availableDoctors.filter((function(t){return t.user.id!==e.user.id}))}}),data:function(){return{searchValue:"",page:1,max:5,activeAssign:!1,toReassign:{},newDoc:-1,newConcern:{name:"",description:"",state:"WT",patient:-1,doctor:-1},availablePatients:[],availableDoctors:[],concerns:[],filter:{patient_name:-1,state_of_concern:-1}}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s["a"].getAll().then((function(t){e.availableDoctors=t.data})),"admin"===e.userRole&&(c["a"].getAll().then((function(t){e.availablePatients=t.data})),u["a"].getAll().then((function(t){e.concerns=t.data}))),"doctor"===e.userRole&&(e.newConcern.doctor=e.user.id,u["a"].getAllByCurrentUser(e.user.id).then((function(t){e.concerns=t.data})),c["a"].getAllByDoctor(e.user.id).then((function(t){e.availablePatients=t.data})));case 3:case"end":return t.stop()}}),t)})))()},methods:{addNewExamination:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].create(e.newConcern).then((function(t){console.log(t),l["a"].successPopup("Health concern added to database.",e.$vs),"admin"===e.userRole&&u["a"].getAll().then((function(t){e.concerns=t.data,e.clearFields()})),"doctor"===e.userRole&&u["a"].getAllByCurrentUser(e.user.id).then((function(t){e.concerns=t.data,e.clearFields()}))})).catch((function(t){l["a"].failPopup(t,e.$vs)}));case 1:case"end":return t.stop()}}),t)})))()},getFullName:function(e){return e.first_name+" "+e.last_name},redirectToPatientProfile:function(e,t){this.$router.push({name:"profile",params:{id:e,role:t.replace(/ /g,"-").toLowerCase()}})},redirectToNewPatient:function(){this.$router.push({name:"patientAdd"})},getFiltered:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].getFiltered(e.filter,e.user.id,e.userRole).then((function(t){e.concerns=t.data}));case 1:case"end":return t.stop()}}),t)})))()},clearFilter:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.filter.patient_name=-1,e.filter.state_of_concern=-1,"admin"===e.userRole&&u["a"].getAll().then((function(t){e.concerns=t.data})),"doctor"===e.userRole&&u["a"].getAllByCurrentUser(e.user.id).then((function(t){e.concerns=t.data}));case 4:case"end":return t.stop()}}),t)})))()},getState:function(e){return f["a"].getExaminationState(e)},showConcernDetail:function(e){this.$router.push({name:"healthConcernDetail",params:{id:e}})},reassign:function(e){this.activeAssign=!0,this.toReassign=e,this.newDoc=e.doctor.id},finishReassign:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(i["a"])({},e.toReassign),n.doctor=e.newDoc,n.patient=e.toReassign.patient.user.id,u["a"].update(e.toReassign.id,n).then((function(t){console.log(t),l["a"].successPopup("Manager of "+n.name+" successfully changed.",e.$vs),"admin"===e.userRole&&u["a"].getAll().then((function(t){e.concerns=t.data,e.clearFields()})),"doctor"===e.userRole&&u["a"].getAllByCurrentUser(e.user.id).then((function(t){e.concerns=t.data,e.clearFields()})),e.activeAssign=!1})).catch((function(t){l["a"].failPopup(t,e.$vs)}));case 4:case"end":return t.stop()}}),t)})))()},redirectToNewRequest:function(e){this.$router.push({name:"newExaminationRequest",params:{id:e}})},redirectToExamine:function(e){this.$router.push({name:"examine",params:{id:e}})},clearFields:function(){this.newConcern={name:"",description:"",state:"WT",patient:-1,doctor:-1}}}},h=p,v=(n("b722"),n("0c7c")),g=Object(v["a"])(h,r,a,!1,null,"650d4b44",null);t["default"]=g.exports},b722:function(e,t,n){"use strict";var r=n("2d97"),a=n.n(r);a.a},b81e:function(e,t,n){"use strict";var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("c427"),c=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,[{key:"getAll",value:function(){return i["a"].get("health-concerns/")}},{key:"getAllByCurrentUser",value:function(e){return i["a"].get("/health-concerns/",{params:Object(r["a"])({},{doctor:e})})}},{key:"getAllByPatient",value:function(e){return i["a"].get("/health-concerns/",{params:Object(r["a"])({},{patient:e})})}},{key:"getFilteredByPatient",value:function(e,t){return i["a"].get("/health-concerns/",{params:Object(r["a"])(Object(r["a"])({},{patient:e}),-1!==t.state?{state:t.state}:{})})}},{key:"getFiltered",value:function(e,t,n){var a=e.patient_name,o=e.state_of_concern;return i["a"].get("/health-concerns/",{params:Object(r["a"])(Object(r["a"])(Object(r["a"])({},-1!==a?{patient:a}:{}),-1!==o?{state:o}:{}),"doctor"===n?{doctor:t}:{})})}},{key:"get",value:function(e){return i["a"].get("health-concerns/".concat(e,"/"))}},{key:"create",value:function(e){return i["a"].post("health-concerns/",e)}},{key:"update",value:function(e,t){return i["a"].put("health-concerns/".concat(e,"/"),t)}},{key:"delete",value:function(e){return i["a"].delete("health-concerns/".concat(e,"/"))}},{key:"deleteAll",value:function(){return i["a"].delete("health-concerns/")}}]),e}();t["a"]=new c},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-cffbbc28.63f50e42.js.map
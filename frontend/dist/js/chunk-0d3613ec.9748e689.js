(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d3613ec"],{"071d":function(e,t,n){"use strict";var a=n("5530"),r=n("d4ec"),o=n("bee2"),i=n("c427"),s=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"getAll",value:function(){return i["a"].get("examination-actions/")}},{key:"getAllByWorker",value:function(e){return i["a"].get("examination-actions/",{params:{action_manager:e}})}},{key:"getFiltered",value:function(e){var t=-1!==e.is_action_paid,n="true"===e.is_action_paid?"true":"false",r=e.action_manager;return i["a"].get("examination-actions/",{params:Object(a["a"])(Object(a["a"])({},t?{is_action_paid:n}:{}),-1!==r?{action_manager:r}:{})})}},{key:"get",value:function(e){return i["a"].get("examination-actions/".concat(e,"/"))}},{key:"create",value:function(e){return i["a"].post("examination-actions/",e)}},{key:"update",value:function(e,t){return i["a"].put("examination-actions/".concat(e,"/"),t)}},{key:"delete",value:function(e){return i["a"].delete("examination-actions/".concat(e,"/"))}},{key:"deleteAll",value:function(){return i["a"].delete("examination-actions")}}]),e}();t["a"]=new s},"20dd":function(e,t,n){"use strict";var a=n("fa89"),r=n.n(a);r.a},2863:function(e,t,n){},"33df":function(e,t,n){"use strict";var a=n("d4ec"),r=n("bee2"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"getExaminationState",value:function(e){return"WT"===e?"Waiting for first examination":"ON"===e?"Ongoing":"TL"===e?"Terminal":"ED"===e?"Ended":"Unknown state"}},{key:"getTicketState",value:function(e){return"PD"===e?"Ticket is waiting. Examine your patient!":"CD"===e?"Examination request was canceled.":"RD"===e?"Ticket already resolved.":"Undefined state"}},{key:"getTransactionState",value:function(e){return"CD"===e?"Covered":"UD"===e?"Unpaid":"Undefined state"}},{key:"getGenderState",value:function(e){return"M"===e?"Male":"F"===e?"Female":"O"===e?"Other":"Undefined gender"}}]),e}();t["a"]=new o},4501:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main__content"},[a("h1",[e._v(e._s(e.userData.user.first_name)+" "+e._s(e.userData.user.last_name))]),a("h4",[a("b",[e._v("Role")]),e._v(": "+e._s((e.role.charAt(0).toUpperCase()+e.role.slice(1)).replace(/-/g," ")))]),a("div",{staticClass:"info__basic"},[a("h5",[a("b",[e._v("Date of birth")]),e._v(": "+e._s(e.formatDate(e.userData.user.date_of_birth)))]),a("h5",[a("b",[e._v("Age")]),e._v(": "+e._s(e.getAge(e.userData.user.date_of_birth)))]),a("h5",[a("b",[e._v("Sex")]),e._v(": "+e._s(e.getGender(e.userData.user.gender)))]),a("h5",[a("b",[e._v("Email address")]),e._v(": "+e._s(e.userData.user.email?e.userData.user.email:"Email not stated"))]),a("h5",[a("b",[e._v("Phone number")]),e._v(": "+e._s(e.userData.user.phone_number?e.userData.user.phone_number:"Phone number not stated"))])]),a("div",{staticClass:"user__pic"},[a("vs-card",{attrs:{type:"2"},scopedSlots:e._u([{key:"img",fn:function(){return["doctor"===e.role&&"F"===e.userData.user.gender?a("img",{attrs:{src:n("703c"),alt:"",width:"200",height:"300"}}):"doctor"===e.role&&"F"!==e.userData.user.gender?a("img",{attrs:{src:n("7df5"),alt:"",width:"200",height:"300"}}):"doctor"!==e.role&&"F"===e.userData.user.gender?a("img",{attrs:{src:n("8316"),alt:"",width:"200",height:"300"}}):a("img",{attrs:{src:n("4a6a"),alt:"",width:"200",height:"300"}})]},proxy:!0},{key:"interactions",fn:function(){return[a("vs-tooltip",{scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" Edit profile ")]},proxy:!0}])},[a("vs-button",{on:{click:function(t){return e.redirectToEdit(e.userData.user.id,e.role)}}},[a("box-icon",{attrs:{name:"comment-edit",animation:"tada-hover"}})],1)],1)]},proxy:!0}])})],1)]),"doctor"===e.role?a("div",{staticClass:"main__content"},[a("user-profile-doctor",{attrs:{doctor:e.userData}})],1):e._e(),"patient"===e.role?a("div",{staticClass:"main__content"},[a("user-profile-patient",{attrs:{patient:e.userData}})],1):e._e(),"health-insurance-worker"===e.role?a("div",{staticClass:"main__content"},[a("user-profile-hc-worker",{attrs:{worker:e.userData}})],1):e._e()])},r=[],o=(n("fb6a"),n("96cf"),n("1da1")),i=n("1813"),s=n("ab39"),c=n("b2a5"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Specific details for Doctor")]),n("br"),n("h5",[n("b",[e._v("Specializes in:")]),e._v(" "+e._s(0===e.doctor.specializes_in.length?"not stated":e.doctor.specializes_in))]),n("br"),"admin"===e.userRole||"doctor"===e.userRole&&e.user.id===e.doctor.user.id?n("div",[e._m(0),n("patients-table",{attrs:{patients:e.assignedPatients}})],1):e._e()])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h5",[n("b",[e._v("Assigned patients:")])])}],d=n("5530"),f=n("184d"),h=n("2f62"),p={name:"UserProfileDoctor",components:{PatientsTable:f["a"]},data:function(){return{assignedPatients:[]}},props:{doctor:{}},computed:Object(d["a"])({},Object(h["b"])(["user","userRole"])),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i["a"].getAllByDoctor(e.doctor.user.id).then((function(t){e.assignedPatients=t.data}));case 1:case"end":return t.stop()}}),t)})))()}},v=p,_=n("0c7c"),g=Object(_["a"])(v,u,l,!1,null,null,null),m=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Specific details for Health insurance worker")]),n("br"),n("h5",[n("b",[e._v("Works for:")]),e._v(" "+e._s(0===e.worker.works_for_company.length?"not stated":e.worker.works_for_company))]),n("br"),e._m(0),n("vs-table",{staticClass:"actions__table",attrs:{striped:""},scopedSlots:e._u([{key:"header",fn:function(){return[n("vs-input",{attrs:{border:"",placeholder:"Search"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})]},proxy:!0},{key:"thead",fn:function(){return[n("vs-tr",[n("vs-th",[e._v(" Name of action ")]),n("vs-th",[e._v(" Pricing ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.$vs.getPage(e.$vs.getSearch(e.supervised_actions,e.searchValue),e.page,e.max),(function(t,a){return n("vs-tr",{key:a,attrs:{data:t}},[n("vs-td",[e._v(" "+e._s(t.name)+" ")]),n("vs-td",[n("b",[e._v(e._s(e.getPricingInfo(t.is_action_paid)))])])],1)}))},proxy:!0},{key:"footer",fn:function(){return[n("vs-pagination",{attrs:{length:e.$vs.getLength(e.supervised_actions,e.max)},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})]},proxy:!0}])})],1)},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h5",[n("b",[e._v("Supervised examination actions:")])])}],y=n("071d"),w={name:"UserProfileHcWorker",data:function(){return{supervised_actions:[],page:1,max:5,searchValue:""}},props:{worker:{}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:y["a"].getAllByWorker(e.worker.id).then((function(t){e.supervised_actions=t.data}));case 1:case"end":return t.stop()}}),t)})))()},methods:{getPricingInfo:function(e){return e?"PAID":"FREE"}}},x=w,D=(n("20dd"),Object(_["a"])(x,b,k,!1,null,"f9da753c",null)),R=D.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Health report card")]),n("br"),n("h5",[n("b",[e._v("Main doctor: ")]),n("span",{staticClass:"redirect__profile",on:{click:function(t){return e.redirectToDocProfile(e.patient.main_doctor.user.id,"doctor")}}},[e._v(" "+e._s(e.patient.main_doctor.user.first_name)+" "+e._s(e.patient.main_doctor.user.last_name)+" ")])]),n("br"),n("h5",[n("b",[e._v("Height:")]),e._v(" "+e._s(e.patient.height)+" cm ")]),n("h5",[n("b",[e._v("Weight:")]),e._v(" "+e._s(e.patient.weight)+" kg ")]),n("br"),e.patient.taking_medications?n("h5",[n("b",[e._v("Medications:")]),e._v(" "+e._s(e.patient.medications)+" ")]):n("h5",[n("b",[e._v("No medications taken")])]),n("br"),n("div",[n("h5",[n("b",[e._v("Emergency contact person:")]),n("br"),e.patient.ec_first_name.length||e.patient.ec_last_name?n("span",[e._v(" Name: "+e._s(e.patient.ec_first_name)+" "+e._s(e.patient.ec_last_name)+" ")]):e._e(),n("br"),e.patient.ec_relationship.length?n("span",[e._v(" Relation: "+e._s(e.patient.ec_relationship)+" ")]):e._e(),n("br"),e.patient.ec_contact_number.length?n("span",[e._v(" Contact number: "),n("b",[e._v(e._s(e.patient.ec_contact_number))])]):e._e()])]),n("br"),e._m(0),n("vs-table",{staticClass:"actions__table",attrs:{striped:""},scopedSlots:e._u([{key:"header",fn:function(){return[n("vs-input",{attrs:{border:"",placeholder:"Search"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})]},proxy:!0},{key:"thead",fn:function(){return[n("vs-tr",[n("vs-th",[e._v(" Name of health concern ")]),n("vs-th",[e._v(" State ")]),"patient"===e.userRole?n("vs-th",[e._v(" Description ")]):e._e(),n("vs-th",[e._v(" Actions ")])],1)]},proxy:!0},{key:"tbody",fn:function(){return e._l(e.$vs.getPage(e.$vs.getSearch(e.healthConcerns,e.searchValue),e.page,e.max),(function(t,a){return n("vs-tr",{key:a,attrs:{data:t},scopedSlots:e._u(["admin"===e.userRole||"doctor"===e.userRole?{key:"expand",fn:function(){return[n("div",{staticStyle:{width:"80%"}},[n("p",[n("b",[e._v("Description: ")]),e._v(e._s(t.description))])]),n("vs-button",{staticClass:"right__part",attrs:{border:""},on:{click:function(n){return e.redirectToConcernDetail(t.id)}}},[e._v(" Show more details ")])]},proxy:!0}:null],null,!0)},[n("vs-td",[n("span",{staticClass:"concern__name",on:{click:function(n){return e.redirectToConcernDetail(t.id)}}},[n("b",[e._v(e._s(t.name))])])]),n("vs-td",[e._v(" "+e._s(e.getState(t.state))+" ")]),"patient"===e.userRole?n("vs-td",[e._v(" "+e._s(t.description.length?t.description:"-")+" ")]):e._e(),n("vs-td",["admin"!==e.userRole&&"doctor"!==e.userRole||"ED"===t.state?e._e():n("vs-button",{staticStyle:{width:"170px"},attrs:{border:""},on:{click:function(n){return e.redirectToExamination(t.id)}}},[e._v(" Examine ")]),"admin"!==e.userRole&&"doctor"!==e.userRole||"ED"===t.state?e._e():n("vs-button",{staticClass:"buttons",staticStyle:{width:"170px"},on:{click:function(n){return e.redirectToNewRequest(t.id)}}},[e._v(" New examination request ")]),"admin"!==e.userRole&&"doctor"!==e.userRole||"ED"===t.state?e._e():n("vs-button",{staticClass:"buttons",staticStyle:{width:"170px"},attrs:{danger:""},on:{click:function(n){return e.reassign(t)}}},[e._v(" Assign to another doctor ")]),"patient"===e.userRole||"ED"===t.state?n("vs-button",{staticClass:"buttons",attrs:{border:""},on:{click:function(n){return e.redirectToConcernDetail(t.id)}}},[e._v(" Show more details ")]):e._e()],1)],1)}))},proxy:!0},{key:"footer",fn:function(){return[n("vs-pagination",{attrs:{length:e.$vs.getLength(e.healthConcerns,e.max)},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})]},proxy:!0}])}),"doctor"===e.userRole||"admin"===e.userRole?n("vs-button",{staticClass:"add__concern",attrs:{warn:"",gradient:""},on:{click:function(t){return e.redirectToNewConcern()}}},[n("box-icon",{staticStyle:{fill:"#fff"},attrs:{name:"plus"}}),e._v(" Add new health concern ")],1):e._e(),n("vs-dialog",{attrs:{width:"500px"},scopedSlots:e._u([{key:"header",fn:function(){return[n("h5",[e._v(" Select new manager of "),n("b",[e._v(e._s(e.toReassign.name))])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"popup__right"},[n("vs-button",{attrs:{success:""},on:{click:function(t){return e.finishReassign()}}},[e._v(" Save ")])],1)]},proxy:!0}]),model:{value:e.activeAssign,callback:function(t){e.activeAssign=t},expression:"activeAssign"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newDoc,expression:"newDoc"}],staticClass:"popup__center",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newDoc=t.target.multiple?n:n[0]}}},e._l(e.availableWithoutCurrent,(function(t){return n("option",{key:t.user.id,attrs:{label:t.user.first_name},domProps:{value:t.user.id}},[e._v(" "+e._s(t.user.first_name)+" ")])})),0)])],1)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h5",[n("b",[e._v("Patient's health concerns:")])])}],j=(n("4de4"),n("b0c0"),n("ac1f"),n("5319"),n("b81e")),S=n("8e80"),P=n("33df"),A={name:"UserProfilePatient",data:function(){return{page:1,max:5,searchValue:"",activeAssign:!1,toReassign:{},newDoc:-1,healthConcerns:[],availableDoctors:[]}},props:{patient:{}},computed:Object(d["a"])(Object(d["a"])({},Object(h["b"])(["user","userRole"])),{},{availableWithoutCurrent:function(){var e=this;return this.availableDoctors.filter((function(t){return t.user.id!==e.user.id}))}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:j["a"].getAllByPatient(e.patient.user.id).then((function(t){e.healthConcerns=t.data})),s["a"].getAll().then((function(t){e.availableDoctors=t.data}));case 2:case"end":return t.stop()}}),t)})))()},methods:{getState:function(e){return P["a"].getExaminationState(e)},reassign:function(e){this.activeAssign=!0,this.toReassign=e,this.newDoc=e.doctor.id},finishReassign:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(d["a"])({},e.toReassign),n.doctor=e.newDoc,n.patient=e.toReassign.patient.user.id,j["a"].update(e.toReassign.id,n).then((function(t){console.log(t),S["a"].successPopup("Manager of "+n.name+" successfully changed.",e.$vs),j["a"].getAllByPatient(e.patient.id).then((function(t){e.healthConcerns=t.data}))})).catch((function(t){S["a"].failPopup(t,e.$vs)}));case 4:case"end":return t.stop()}}),t)})))()},redirectToNewRequest:function(e){this.$router.push({name:"newExaminationRequest",params:{id:e}})},redirectToExamination:function(e){this.$router.push({name:"examine",params:{id:e}})},redirectToDocProfile:function(e,t){this.$router.push({name:"profile",params:{id:e,role:t.replace(/ /g,"-").toLowerCase()}}),this.$router.go()},redirectToConcernDetail:function(e){this.$router.push({name:"healthConcernDetail",params:{id:e}})},redirectToNewConcern:function(){this.$router.push({name:"healthConcerns"})}}},E=A,T=(n("8a72"),Object(_["a"])(E,O,C,!1,null,"1728223d",null)),$=T.exports,U={name:"UserProfile",props:{id:String,role:String},components:{UserProfileDoctor:m,UserProfileHcWorker:R,UserProfilePatient:$},data:function(){return{userData:{}}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"patient"===e.role&&i["a"].get(e.id).then((function(t){e.userData=t.data})),"doctor"===e.role&&s["a"].get(e.id).then((function(t){e.userData=t.data})),"health-insurance-worker"===e.role&&c["a"].get(e.id).then((function(t){e.userData=t.data})),"admin"===e.role&&s["a"].get(e.id).then((function(t){e.userData=t.data}));case 4:case"end":return t.stop()}}),t)})))()},methods:{formatDate:function(e){var t=e.slice(8,10),n=e.slice(5,7),a=e.slice(0,4);return t+". "+n+". "+a},getAge:function(e){var t=new Date,n=new Date(e),a=t.getFullYear()-n.getFullYear(),r=t.getMonth()-n.getMonth();return(r<0||0===r&&t.getDate()<n.getDate())&&a--,0===a?r+" months":a+" years"},redirectToEdit:function(e,t){this.$router.push({name:"edit-profile",params:{id:e,role:t}})},getGender:function(e){return P["a"].getGenderState(e)}}},N=U,W=(n("b824"),Object(_["a"])(N,a,r,!1,null,"4b950fe6",null));t["default"]=W.exports},"8a72":function(e,t,n){"use strict";var a=n("2863"),r=n.n(a);r.a},"8e80":function(e,t,n){"use strict";var a=n("d4ec"),r=n("bee2"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"successPopup",value:function(e,t){var n="top-right",a="auto",r="6000",o="success",i=t.notification({duration:r,progress:a,color:o,position:n,title:"Hooray!🎉",text:e});console.log(i)}},{key:"failPopup",value:function(e,t){var n="top-right",a="auto",r="6000",o="danger",i=t.notification({duration:r,progress:a,color:o,position:n,title:"Whoops!😓: "+e.message,text:"Something went wrong. Try again later or contact support."});console.log(i)}}]),e}();t["a"]=new o},"93b8":function(e,t,n){},ab39:function(e,t,n){"use strict";var a=n("5530"),r=n("d4ec"),o=n("bee2"),i=n("c427"),s=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"getAll",value:function(){return i["a"].get("doctors")}},{key:"get",value:function(e){return i["a"].get("doctors/".concat(e))}},{key:"create",value:function(e){return i["a"].post("doctors/",e)}},{key:"update",value:function(e,t){return i["a"].put("doctors/".concat(e,"/"),t)}},{key:"delete",value:function(e){return i["a"].delete("doctors/".concat(e,"/"))}},{key:"deleteWithNewResponsible",value:function(e,t){return i["a"].delete("doctors/".concat(e),{params:Object(a["a"])({},{alt:t})})}},{key:"deleteAll",value:function(){return i["a"].delete("doctors")}}]),e}();t["a"]=new s},b2a5:function(e,t,n){"use strict";var a=n("d4ec"),r=n("bee2"),o=n("c427"),i=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"getAll",value:function(){return o["a"].get("healthcare-workers/")}},{key:"get",value:function(e){return o["a"].get("healthcare-workers/".concat(e,"/"))}},{key:"create",value:function(e){return o["a"].post("healthcare-workers/",e)}},{key:"update",value:function(e,t){return o["a"].put("healthcare-workers/".concat(e,"/"),t)}},{key:"delete",value:function(e){return o["a"].delete("healthcare-workers/".concat(e,"/"))}},{key:"deleteAll",value:function(){return o["a"].delete("healthcare-workers/")}}]),e}();t["a"]=new i},b81e:function(e,t,n){"use strict";var a=n("5530"),r=n("d4ec"),o=n("bee2"),i=n("c427"),s=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"getAll",value:function(){return i["a"].get("health-concerns/")}},{key:"getAllByCurrentUser",value:function(e){return i["a"].get("/health-concerns/",{params:Object(a["a"])({},{doctor:e})})}},{key:"getAllByPatient",value:function(e){return i["a"].get("/health-concerns/",{params:Object(a["a"])({},{patient:e})})}},{key:"getFilteredByPatient",value:function(e,t){return i["a"].get("/health-concerns/",{params:Object(a["a"])(Object(a["a"])({},{patient:e}),-1!==t.state?{state:t.state}:{})})}},{key:"getFiltered",value:function(e,t,n){var r=e.patient_name,o=e.state_of_concern;return i["a"].get("/health-concerns/",{params:Object(a["a"])(Object(a["a"])(Object(a["a"])({},-1!==r?{patient:r}:{}),-1!==o?{state:o}:{}),"doctor"===n?{doctor:t}:{})})}},{key:"get",value:function(e){return i["a"].get("health-concerns/".concat(e,"/"))}},{key:"create",value:function(e){return i["a"].post("health-concerns/",e)}},{key:"update",value:function(e,t){return i["a"].put("health-concerns/".concat(e,"/"),t)}},{key:"delete",value:function(e){return i["a"].delete("health-concerns/".concat(e,"/"))}},{key:"deleteAll",value:function(){return i["a"].delete("health-concerns/")}}]),e}();t["a"]=new s},b824:function(e,t,n){"use strict";var a=n("93b8"),r=n.n(a);r.a},fa89:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0d3613ec.9748e689.js.map
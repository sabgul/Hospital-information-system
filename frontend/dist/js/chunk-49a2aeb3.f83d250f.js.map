{"version":3,"sources":["webpack:///./src/views/admin/usersManagement/usersOverview/UsersOverview.vue?992a","webpack:///src/views/admin/usersManagement/usersOverview/UsersOverview.vue","webpack:///./src/views/admin/usersManagement/usersOverview/UsersOverview.vue?7b85","webpack:///./src/views/admin/usersManagement/usersOverview/UsersOverview.vue","webpack:///./src/views/admin/usersManagement/usersOverview/UsersOverview.vue?4c49","webpack:///./src/assets/user-illu.jpg","webpack:///./src/utils/dateUtils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","staticClass","_v","attrs","scopedSlots","_u","key","fn","model","value","callback","$$v","searchValue","expression","proxy","_l","$vs","getPage","getSearch","users","page","max","user","i","on","$event","showUserProfile","userData","id","role","_s","first_name","last_name","editUserProfile","deleteUserDialog","getDate","date_of_birth","getEmailContact","email","getLength","userToDelete","name","doctorToReplace","deleteUser","activeDelete","_e","doctor","staticRenderFns","console","log","response","component","module","exports","DateUtils","date","day","slice","month","year","rawDate","time"],"mappings":"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","file":"js/chunk-49a2aeb3.f83d250f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{staticClass:\"main__content\"},[_c('h5',[_vm._v(\" All system users \")]),_c('br'),_c('vs-table',{staticClass:\"users__table\",attrs:{\"striped\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('vs-input',{attrs:{\"border\":\"\",\"placeholder\":\"Search\"},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})]},proxy:true},{key:\"thead\",fn:function(){return [_c('vs-tr',[_c('vs-th',[_vm._v(\" User name \")]),_c('vs-th',[_vm._v(\" Role \")]),_c('vs-th',[_vm._v(\" Date of birth \")]),_c('vs-th',[_vm._v(\" E-mail contact \")])],1)]},proxy:true},{key:\"tbody\",fn:function(){return _vm._l((_vm.$vs.getPage(_vm.$vs.getSearch(_vm.users, _vm.searchValue), _vm.page, _vm.max)),function(user,i){return _c('vs-tr',{key:i,attrs:{\"data\":user},scopedSlots:_vm._u([{key:\"expand\",fn:function(){return [_c('div',{staticClass:\"expanded__item\"},[_c('div',{staticClass:\"expanded__item\"},[_c('vs-avatar',{staticClass:\"redirect__profile\",on:{\"click\":function($event){return _vm.showUserProfile(user.userData.user.id, user.role)}}},[_c('img',{attrs:{\"src\":require(\"@/assets/user-illu.jpg\"),\"alt\":\"\"}})]),_c('b',[_c('span',{staticClass:\"user__name redirect__profile\",on:{\"click\":function($event){return _vm.showUserProfile(user.userData.user.id, user.role)}}},[_vm._v(\" \"+_vm._s(user.userData.user.first_name)+\" \"+_vm._s(user.userData.user.last_name)+\" \")])])],1),_c('div',{staticClass:\"expanded__item right\"},[_c('vs-tooltip',{scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_vm._v(\" Edit user \")]},proxy:true}],null,true)},[_c('vs-button',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.editUserProfile(user.userData.user.id, user.role)}}},[_c('box-icon',{attrs:{\"name\":\"comment-edit\",\"animation\":\"tada-hover\"}})],1)],1),_c('vs-tooltip',{scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_vm._v(\" Remove user \")]},proxy:true}],null,true)},[_c('vs-button',{attrs:{\"danger\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteUserDialog(user)}}},[_c('box-icon',{attrs:{\"name\":\"trash\",\"animation\":\"tada-hover\"}})],1)],1)],1)])]},proxy:true}],null,true)},[_c('vs-td',[_c('span',{staticClass:\"redirect__profile\",on:{\"click\":function($event){return _vm.showUserProfile(user.userData.user.id, user.role)}}},[_vm._v(\" \"+_vm._s(user.userData.user.first_name)+\" \"+_vm._s(user.userData.user.last_name)+\" \")])]),_c('vs-td',[_c('b',[_vm._v(_vm._s(user.role))])]),_c('vs-td',[_vm._v(\" \"+_vm._s(_vm.getDate(user.userData.user.date_of_birth))+\" \")]),_c('vs-td',[_vm._v(\" \"+_vm._s(_vm.getEmailContact(user.userData.user.email))+\" \")])],1)})},proxy:true},{key:\"footer\",fn:function(){return [_c('vs-pagination',{attrs:{\"length\":_vm.$vs.getLength(_vm.users, _vm.max)},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})]},proxy:true}])})],1),_c('vs-dialog',{attrs:{\"width\":\"500px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\" Are you sure you want to delete \"),_c('b',[_vm._v(_vm._s(_vm.userToDelete.userData.name))]),_vm._v(\"? \")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"popup__right\"},[_c('vs-button',{attrs:{\"danger\":\"\",\"border\":\"\",\"disabled\":_vm.doctorToReplace === -1 && _vm.userToDelete.role === 'Doctor'},on:{\"click\":function($event){return _vm.deleteUser()}}},[_vm._v(\" Delete \")])],1)]},proxy:true}]),model:{value:(_vm.activeDelete),callback:function ($$v) {_vm.activeDelete=$$v},expression:\"activeDelete\"}},[_c('br'),(_vm.userToDelete.role === 'Doctor')?_c('p',[_vm._v(\" Please choose a new doctor who will be responsible for \"),_c('br'),_vm._v(\" patients, examinations and other responsibilities of doctor currently being removed: \")]):_vm._e(),(_vm.userToDelete.role === 'Doctor')?_c('vs-select',{staticClass:\"popup__center\",attrs:{\"label\":\"Choose responsible doctor\",\"color\":\"primary\"},scopedSlots:_vm._u([(_vm.doctorToReplace === -1)?{key:\"message-warn\",fn:function(){return [_vm._v(\" Required \")]},proxy:true}:null],null,true),model:{value:(_vm.doctorToReplace),callback:function ($$v) {_vm.doctorToReplace=$$v},expression:\"doctorToReplace\"}},_vm._l((_vm.availableWithoutDeleted),function(doctor){return _c('vs-option',{key:doctor.user.id,attrs:{\"label\":doctor.user.first_name,\"value\":doctor.user.id}},[_vm._v(\" \"+_vm._s(doctor.user.first_name)+\" \")])}),1):_vm._e(),_c('br')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main__content\"},[_c('h1',[_vm._v(\"Users overview\")]),_c('p',[_vm._v(\" In this module you can see the list of all users in this system.\"),_c('br'),_vm._v(\" You can manage particular information by clicking on a given user. \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"main__content\">\n            <h1>Users overview</h1>\n\n            <p>\n                In this module you can see the list of all users in this system.<br>\n                You can manage particular information by clicking on a given user.\n            </p>\n        </div>\n\n        <div class=\"main__content\">\n            <h5>\n                All system users\n            </h5>\n\n            <br>\n\n            <vs-table\n                striped\n                class=\"users__table\"\n            >\n                <template #header>\n                    <vs-input\n                        v-model=\"searchValue\"\n                        border\n                        placeholder=\"Search\"\n                    />\n                </template>\n\n                <template #thead>\n                    <vs-tr>\n                        <vs-th>\n                            User name\n                        </vs-th>\n\n                        <vs-th>\n                            Role\n                        </vs-th>\n\n                        <vs-th>\n                            Date of birth\n                        </vs-th>\n\n                        <vs-th>\n                            E-mail contact\n                        </vs-th>\n                    </vs-tr>\n                </template>\n\n                <template #tbody>\n                    <vs-tr\n                        :key=\"i\"\n                        v-for=\"(user, i) in $vs.getPage($vs.getSearch(users, searchValue), page, max)\"\n                        :data=\"user\"\n                    >\n                        <vs-td>\n                            <span\n                                @click=\"showUserProfile(user.userData.user.id, user.role)\"\n                                class=\"redirect__profile\"\n                            >\n                                {{ user.userData.user.first_name }} {{ user.userData.user.last_name }}\n                            </span>\n                        </vs-td>\n\n                        <vs-td>\n                            <b>{{ user.role }}</b>\n                        </vs-td>\n\n                        <vs-td>\n                            {{ getDate(user.userData.user.date_of_birth) }}\n                        </vs-td>\n\n                        <vs-td>\n                            {{ getEmailContact(user.userData.user.email) }}\n                        </vs-td>\n\n                        <template #expand>\n                            <div class=\"expanded__item\">\n                                <div class=\"expanded__item\">\n                                    <vs-avatar\n                                        @click=\"showUserProfile(user.userData.user.id, user.role)\"\n                                        class=\"redirect__profile\"\n                                    >\n                                        <img\n                                            src=\"@/assets/user-illu.jpg\"\n                                            alt=\"\"\n                                        >\n                                    </vs-avatar>\n\n                                    <b>\n                                        <span\n                                            class=\"user__name redirect__profile\"\n                                            @click=\"showUserProfile(user.userData.user.id, user.role)\"\n                                        >\n                                            {{ user.userData.user.first_name }} {{ user.userData.user.last_name }}\n                                        </span>\n                                    </b>\n                                </div>\n\n                                <div class=\"expanded__item right\">\n                                    <vs-tooltip>\n                                        <vs-button\n                                            icon\n                                            @click=\"editUserProfile(user.userData.user.id, user.role)\"\n                                        >\n                                            <box-icon\n                                                name='comment-edit'\n                                                animation='tada-hover'\n                                            />\n                                        </vs-button>\n\n                                        <template #tooltip>\n                                            Edit user\n                                        </template>\n                                    </vs-tooltip>\n\n                                    <vs-tooltip>\n                                        <vs-button\n                                            danger\n                                            icon\n                                            @click=\"deleteUserDialog(user)\"\n                                        >\n                                            <box-icon\n                                                name='trash'\n                                                animation='tada-hover'\n                                            />\n                                        </vs-button>\n\n                                        <template #tooltip>\n                                            Remove user\n                                        </template>\n                                    </vs-tooltip>\n                                </div>\n                            </div>\n                        </template>\n                    </vs-tr>\n                </template>\n        \n                <template #footer>\n                    <vs-pagination\n                        v-model=\"page\"\n                        :length=\"$vs.getLength(users, max)\"\n                    />\n                </template>\n            </vs-table>\n        </div>\n\n        <vs-dialog\n            width=\"500px\"\n            v-model=\"activeDelete\"\n        >\n            <template #header>\n                <h5>\n                    Are you sure you want to delete <b>{{ userToDelete.userData.name }}</b>?\n                </h5>\n            </template>\n\n            <br>\n\n            <p v-if=\"userToDelete.role === 'Doctor'\">\n                Please choose a new doctor who will be responsible for <br> patients, examinations and other responsibilities of doctor currently being removed:\n            </p>\n\n            <vs-select\n                v-if=\"userToDelete.role === 'Doctor'\"\n                v-model=\"doctorToReplace\"\n                class=\"popup__center\"\n                label=\"Choose responsible doctor\"\n                color=\"primary\"\n            >\n                <template\n                    #message-warn\n                    v-if=\"doctorToReplace === -1\"\n                >\n                    Required\n                </template>\n\n                <vs-option\n                    v-for=\"doctor in availableWithoutDeleted\"\n                    :key=\"doctor.user.id\"\n                    :label=\"doctor.user.first_name\"\n                    :value=\"doctor.user.id\"\n                >\n                    {{ doctor.user.first_name }}\n                </vs-option>\n            </vs-select>\n\n            <br>\n\n            <template #footer>\n                <div class=\"popup__right\">\n                    <vs-button\n                        danger\n                        border\n                        :disabled=\"doctorToReplace === -1 && userToDelete.role === 'Doctor'\"\n                        @click=\"deleteUser()\"\n                    >\n                        Delete\n                    </vs-button>\n                </div>\n            </template>\n        </vs-dialog>\n    </div>\n</template>\n\n\n<script>\nimport PatientsService from '@/services/patientsService.js';\nimport DoctorsService from '@/services/doctorsService.js';\nimport HealthcareWorkersService from '@/services/healthcareWorkersService.js';\nimport UsersService from \"@/services/usersService\";\n\nimport NotificationsUtils from \"@/utils/notificationsUtils\";\nimport DateUtils from \"@/utils/dateUtils\";\n\nexport default {\n    name: 'UsersOverview',    \n\n    data:() => ({\n        users: [],\n        page: 1,\n        max: 5,\n        searchValue: '',\n\n        userToDelete: {},\n        activeDelete: false,\n\n        availableDoctors: [],\n        doctorToReplace: -1,\n    }),\n\n    async created() {\n        await this.getAllUsers();\n    },\n\n    computed: {\n        // Array of all doctor except of the one being deleted\n        availableWithoutDeleted() {\n            return this.availableDoctors.filter((doctor) => doctor.user.id !== this.userToDelete.userData.user.id);\n        }\n    },\n\n    methods: {\n        getDate(date) {\n          return DateUtils.getDateForFrontend(date);\n        },\n\n        async getAllUsers() {\n            this.users = [];\n            PatientsService.getAll()\n            .then(response => {\n                response.data.forEach(patient => this.users.push({userData: patient, role: 'Patient'}));\n            })\n\n            DoctorsService.getAll()\n            .then(response => {\n                response.data.forEach(doctor => this.users.push({userData: doctor, role: 'Doctor'}));\n                this.availableDoctors = response.data;\n            })\n\n            HealthcareWorkersService.getAll()\n            .then(response => {\n                response.data.forEach(worker => this.users.push({userData: worker, role: 'Health insurance worker'}));\n            })\n        },\n\n        getEmailContact(fetchedEmail) {\n            return fetchedEmail ? fetchedEmail : 'Email not stated';\n        },\n\n        showUserProfile(userId, role) {\n            this.$router.push({ name: 'profile', params: {id: userId, role: role.replace(/ /g, '-').toLowerCase() }})\n        },\n\n        editUserProfile(userId, role) {\n            this.$router.push({ name: 'edit-profile', params: {id: userId, role: role.replace(/ /g, '-').toLowerCase() }})\n        },\n\n        deleteUserDialog(user) {\n            this.activeDelete = true;\n            this.userToDelete = user;\n        },\n\n        async deleteUser() {\n            if(this.userToDelete.role === 'Patient') {\n                PatientsService.delete(this.userToDelete.userData.user.id)\n                .then(response => {\n                    console.log(response);\n                    NotificationsUtils.successPopup('Patient successfully deleted.', this.$vs);\n                    this.getAllUsers();\n                    this.activeDelete = false;\n\n                    UsersService.delete(this.userToDelete.userData.user.id)\n                    .then(response => {\n                        console.log(response);\n                    })\n\n                    this.$forceUpdate();\n                })\n            }\n\n            if(this.userToDelete.role === 'Health insurance worker') {\n                HealthcareWorkersService.delete(this.userToDelete.userData.user.id)\n                .then(response => {\n                    console.log(response);\n                    NotificationsUtils.successPopup('Health insurance worker successfully deleted.', this.$vs);\n                    this.getAllUsers();\n                    this.activeDelete = false;\n\n                    UsersService.delete(this.userToDelete.userData.user.id)\n                    .then(response => {\n                        console.log(response);\n                    })\n\n                    this.$forceUpdate();\n                })\n            }\n\n            if(this.userToDelete.role === 'Doctor') {\n                DoctorsService.deleteWithNewResponsible(this.userToDelete.userData.user.id, this.doctorToReplace)\n                .then(response => {\n                    console.log(response);\n                    NotificationsUtils.successPopup('Health insurance worker successfully deleted.', this.$vs);\n                    this.getAllUsers();\n                    this.activeDelete = false;\n\n                    UsersService.delete(this.userToDelete.userData.user.id)\n                    .then(response => {\n                        console.log(response);\n                    })\n\n                    this.$forceUpdate();\n                })\n            }\n        }\n    },\n}\n</script>\n\n<style scoped>\n    box-icon {\n        fill: #fbfbfb;\n    }\n\n    .users__table {\n      width: 80%;\n      margin: 1em auto 0;\n    }\n\n    .expanded__item {\n        display: flex;\n    }\n\n    .right {\n        position: absolute;\n        right: 10px;\n    }\n\n    .user__name {\n        position: absolute;\n        left: 5em;\n        top: 18px;\n        font-size: 16px;\n    }\n\n    .redirect__profile:hover {\n        cursor: pointer;\n        font-weight: 600;\n        text-decoration: underline;\n    }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersOverview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersOverview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersOverview.vue?vue&type=template&id=443fb029&scoped=true&\"\nimport script from \"./UsersOverview.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersOverview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UsersOverview.vue?vue&type=style&index=0&id=443fb029&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"443fb029\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersOverview.vue?vue&type=style&index=0&id=443fb029&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersOverview.vue?vue&type=style&index=0&id=443fb029&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/user-illu.e50e46d1.jpg\";","class DateUtils {\n    getDateForBackend(date) {\n        const day = date.slice(8, 10);\n        const month = date.slice(5, 7);\n        const year = date.slice(0, 4);\n\n        return year + '-' + month + '-' + day\n    }\n\n    getDateForFrontend(rawDate) {\n        const year = rawDate.slice(0, 4);\n        const month = rawDate.slice(5, 7);\n        const day = rawDate.slice(8, 10);\n        const time = rawDate.slice(11, 19);\n\n        return day + '. ' + month + '. ' + year + ' ' + time;\n    }\n}\n\nexport default new DateUtils();"],"sourceRoot":""}